<!--top section -->
<link href="{{url_for('static', filename = 'style.css')}}" rel="stylesheet" type="text/css" href=rel="stylesheet" type="text/css">

<script src="{{url_for('static', filename = 'script.js')}}"></script>
<script src="{{url_for('static', filename = 'leaflet/leaflet.js')}}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<header class="masthead">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
  <!-- <p class="masthead-intro">Hi, We:</p> -->
  <h1 class="masthead-heading">KeepFit Tracker</h1>

  <div class="button-grey">
    <button class="button button-grey" id="introductionButton" onclick="scrollToSection('about');">
      ABOUT
    </button>

    <button class="button button-grey" id="fromButton" onclick="scrollToSection('section1');">
      SECTION 1
    </button>

    <button class="button button-grey" id="aboutMeButton" onclick="scrollToSection('section2');">
      SECTION 2
    </button>
  </div>
</header>
<!-- end top section -->

<!-- the div is used to apply the gradient -->
<div class="gradient" onload="uploadFile()">
  <!-- Body (SECTION 2/3) -->
  <form id="xmlForm" name="xmlForm">
       <input id="input" type="file"> <input type="submit">
   </form>
   <script>
       var readXml=null;
       $('#xmlForm').submit(function(event) {
           event.preventDefault();
           var selectedFile = document.getElementById('input').files[0];
           console.log(selectedFile);
           var reader = new FileReader();
           reader.onload = function(e) {
               readXml=e.target.result;
               console.log(readXml);
               var parser = new DOMParser();
               var doc = parser.parseFromString(readXml, "application/xml");
               console.log(doc);
           }
           reader.readAsText(selectedFile);
       });
    </script>
  <div id="map" style="height: 500px; width: auto; align: center;"></div>
  <script type="text/javascript">
    // The first parameter are the coordinates of the center of the map
    // The second parameter is the zoom level
    var map = L.map('map').setView([55.8642, -4.2518], 11);

    // {s}, {z}, {x} and {y} are placeholders for map tiles
    // {x} and {y} are the x/y of where you are on the map
    // {z} is the zoom level
    // {s} is the subdomain of cartodb
    var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'
    });
    L.marker([55.8642, -4.2518]).addTo(map)
      .bindPopup('Pinned Location')
      .openPopup();

    // Now add the layer onto the map
    map.addLayer(layer);
  </script>

  <!-- GPX File Upload -->
  <div id='upload'>
    <form style="clear:both;" action="" method="POST" enctype="multipart/form-data">
      Upload your GPX File:
      <input type="file" value = "Select File" name="selectFile">
      <input type="submit" value="Upload" name="uploadFile ">
    </form>
  </div>

  <!-- About Section -->
  <section id='about' label="About">
    <h2>About</h2>
    <p><h3>KeepFit is a tool which allows you to retrace your workout steps! You can view where you've visited, and if the data is available your heartrate, cadence and altitude at that point</h3></p>
  </section>


  <!-- Section 1 -->
  <section id='section1' label="section1">
    <h2>How to use KeepFit</h2>
    <p class="space-maker">Simply select the GPX file from your device and upload it here, your route will be displayed on map above, any other data is displayed below the map. Easy!</p>
  </section>


  <!-- Section 2 -->
  <section id='section2' label="section2">
    <h2>Section 2</h2>

    <h3>Thiw is a smaller header. Cute</h3>
    <p class="space-maker">Things and stuff</p>

    <h3>Another cute header</h3>
    <p class="space-maker">And this is the stuff that goes in the header explanation blah blah.</h3>
      <p></p>
  </section>
</div>



<!-- Footer (SECTION 3/3) -->
<footer class="content-footer">
  <p>Check out the KeepFit Github:</p>
  <ul class="social">
    <li><a href="https://github.com/Eoin-McMahon/OrangMales" target=_Blank>Github</a></li>
  </ul>
</footer>

<img src="{{url_for('static', filename = '0feab4928c8aabd9f36a673aadc40aaed6ddf724_hq.gif')}}" alt="orang male" style="margin-left: auto;">
