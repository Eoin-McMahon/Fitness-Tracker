<!--top section -->
<link href="{{url_for('static', filename = 'style.css')}}" rel="stylesheet" type="text/css" href=rel="stylesheet" type="text/css">

<script src="{{url_for('static', filename = 'script.js')}}"></script>
<script src="{{url_for('static', filename = 'parse.js')}}"></script>
<script src="{{url_for('static', filename = 'leaflet/leaflet.js')}}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<header class="masthead">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
  <h1 class="masthead-heading">KeepFit Tracker</h1>

  <!-- Nav buttons -->
  <div class="button-grey">
    <button class="button button-grey" id="aboutButton" onclick="scrollToSection('about');">
      ABOUT
    </button>

    <button class="button button-grey" id="howtoButton" onclick="scrollToSection('howto');">
      HOW TO USE
    </button>
  </div>
</header>
<!-- end top section -->

<!-- the div is used to apply the gradient -->
<!-- Body (SECTION 2/3) -->
<div class="gradient" onload="uploadFile()">

  <!-- GPX File Upload -->
  <div id='upload'>
    <form id="xmlForm" name="xmlForm">
      <p>
        <h1 id="text">Upload your GPX File:</h1>
      </p>
      <input id="input" type="file">
      <input type="submit" value="Upload" name="uploadFile">
    </form>
  </div>

  <!-- Updating the Name above the map -->
  <script>
  $('#xmlForm').submit(function(event) {
    try{
      parseXML(event, "input", "text");
   }
   catch(err){
      document.getElementById("text").innerHTML = err.message;
   }
  });
  </script>

  <!-- Container to hold the map and averages -->
  <!-- <div class="container"> -->

    <div id="map"></div>
    <script type="text/javascript">
    // The first parameter are the coordinates of the center of the map
    // The second parameter is the zoom level
    var map = L.map('map').setView([55.8642, -4.2518], 11);

    // {s}, {z}, {x} and {y} are placeholders for map tiles
    // {x} and {y} are the x/y of where you are on the map
    // {z} is the zoom level
    // {s} is the subdomain of cartodb
    var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'
    });
    L.marker([55.8642, -4.2518]).addTo(map)
    .bindPopup('Pinned Location')
    .openPopup();

    // Now add the layer onto the map
    map.addLayer(layer);
    </script>

    <!-- Container to hold information such as heartrate, cadence...-->
    <div class="averagesContainercontainer">
      <ul>
        <!-- Heartrate -->
        <li><img src="../static/icons/cardiogram.png" alt="heartrate"><h1>Heartrate:</li>
        <!-- Cadence (steps per min?) -->
        <li><img src="../static/icons/jogging.png" alt="cadence"><h1>Cadence:</li>
        <!-- Altitude -->
        <li><img src="../static/icons/mountain.png" alt="altitude"><h1>Altitude:</li>
      </ul>
    </div>
  <!-- </div> -->

  <!-- div stores the about, how to and section 2 -->
  <div style="clear: both; padding-top: 10px;">

    <!-- About Section -->
    <section id='about' label="About">
      <h2>About</h2>
      <p><h3>KeepFit is a tool which allows you to retrace your workout steps! You can view where you've visited, and if the data is available your heartrate, cadence and altitude at that point</h3></p>
    </section>


    <!-- How To Section -->
    <section id='howto' label="howto">
      <h2>How to use KeepFit</h2>
      <p class="space-maker">Simply select the GPX file from your device and upload it here, your route will be displayed on map above, any other data is displayed below the map. Easy!</p>
    </section>

  </div>
</div>
<!-- End of body div -->

<!-- Footer (SECTION 3/3) -->
<footer class="content-footer">
  <p>Check out the KeepFit Github:</p>
  <ul class="social">
    <li><a href="https://github.com/Eoin-McMahon/OrangMales" target=_Blank>Github</a></li>
  </ul>

  <!-- Icon credits -->
  <div>
    Icons made by <a href="https://www.freepik.com" title="Freepik">Freepik</a>, <a href="https://www.flaticon.com/authors/anatoly" title="Anatoly">Anatoly</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
  </div>
</footer>

<img src="{{url_for('static', filename = 'orang.gif')}}" alt="orang male" style="margin-left: auto;">
